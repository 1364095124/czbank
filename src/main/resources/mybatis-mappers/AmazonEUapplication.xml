<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.relesee.dao.AmazonEUdao">


    <insert id="insertApplication" parameterType="com.relesee.domains.AmazonEUapplication">
        INSERT INTO
            amazonEUapplication(
                id,
                shopUrl,
                shopId,
                shopName,
                mainCommodity,
                companyName,
                chairManName,
                majorShareHolder1,
                shareHolderRate1,
                shareHolderBirthday1,
                shareHolderAddress1,
                majorShareHolder2,
                shareHolderRate2,
                shareHolderBirthday2,
                shareHolderAddress2,
                majorShareHolder3,
                shareHolderRate3,
                shareHolderBirthday3,
                shareHolderAddress3,
                majorShareHolder4,
                shareHolderRate4,
                shareHolderBirthday4,
                shareHolderAddress4,
                czbankBranch,
                czbankAcc,
                customerName,
                mail,
                managerName,
                managerDepartment,
                managerId,
                time
            )
        VALUES
        (
            #{id},
            #{shopUrl},
            #{shopId},
            #{shopName},
            #{mainCommodity},
            #{companyName},
            #{chairManName},
            #{majorShareHolder1},
            #{shareHolderRate1},
            #{shareHolderBirthday1},
            #{shareHolderAddress1},
            #{majorShareHolder2},
            #{shareHolderRate2},
            #{shareHolderBirthday2},
            #{shareHolderAddress2},
            #{majorShareHolder3},
            #{shareHolderRate3},
            #{shareHolderBirthday3},
            #{shareHolderAddress3},
            #{majorShareHolder4},
            #{shareHolderRate4},
            #{shareHolderBirthday4},
            #{shareHolderAddress4},
            #{czbankBranch},
            #{czbankAcc},
            #{customerName},
            #{mail},
            #{managerName},
            #{managerDepartment},
            #{managerId},
            NOW()
        )
    </insert>

    <select id="selectLocked" resultType="com.relesee.domains.AmazonEUapplication">
        SELECT
            id,
            shopUrl,
            shopId,
            shopName,
            mainCommodity,
            companyName,
            chairManName,
            majorShareHolder1,
            shareHolderRate1,
            shareHolderBirthday1,
            shareHolderAddress1,
            majorShareHolder2,
            shareHolderRate2,
            shareHolderBirthday2,
            shareHolderAddress2,
            majorShareHolder3,
            shareHolderRate3,
            shareHolderBirthday3,
            shareHolderAddress3,
            majorShareHolder4,
            shareHolderRate4,
            shareHolderBirthday4,
            shareHolderAddress4,
            czbankBranch,
            czbankAcc,
            customerName,
            mail,
            managerName,
            managerDepartment,
            managerId,
            time,
            status,
            auditor
        FROM
            amazoneuapplication
        WHERE
            status = #{status}
        AND
            auditor = #{auditor}
    </select>

    <select id="selectOneApplication" resultType="com.relesee.domains.AmazonEUapplication">
        SELECT
            id,
            shopUrl,
            shopId,
            shopName,
            mainCommodity,
            companyName,
            chairManName,
            majorShareHolder1,
            shareHolderRate1,
            shareHolderBirthday1,
            shareHolderAddress1,
            majorShareHolder2,
            shareHolderRate2,
            shareHolderBirthday2,
            shareHolderAddress2,
            majorShareHolder3,
            shareHolderRate3,
            shareHolderBirthday3,
            shareHolderAddress3,
            majorShareHolder4,
            shareHolderRate4,
            shareHolderBirthday4,
            shareHolderAddress4,
            czbankBranch,
            czbankAcc,
            customerName,
            mail,
            managerName,
            managerDepartment,
            managerId,
            time,
            status,
            auditor
        FROM
            amazoneuapplication
        WHERE
            status = 0
        ORDER BY
            uploadTime
        LIMIT
            0,1
    </select>

    <update id="updateStatus" parameterType="com.relesee.domains.AmazonEUapplication">
        UPDATE
            amazoneuapplication
        SET
            status = #{status}
        WHERE
            id = #{id}
        AND
            status = 1
    </update>

    <update id="updateAuditor">
        UPDATE
            amazonusapplication
        SET
            auditor = #{auditor}
        WHERE
            id = #{id}
    </update>


</mapper>